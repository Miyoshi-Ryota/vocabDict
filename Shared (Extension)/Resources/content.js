/******/ (() => { // webpackBootstrap
/*!********************************!*\
  !*** ./src/content/content.js ***!
  \********************************/
// Content script for VocabDict Safari Extension

console.log('VocabDict content script loaded');

// iOS text selection handler
let lookupButton = null;
let selectionTimeout = null;

// Track if event listener is already added to prevent duplicates
if (!window.__vocabDictListenerAdded) {
  window.__vocabDictListenerAdded = true;

  // Debounced selection handler
  document.addEventListener('selectionchange', () => {
    clearTimeout(selectionTimeout);
    selectionTimeout = setTimeout(() => {
      handleSelection();
    }, 300);
  });
}
function handleSelection() {
  const selection = window.getSelection();
  const selectedText = selection.toString().trim();

  // Clean up existing button
  if (lookupButton) {
    lookupButton.remove();
    lookupButton = null;
  }

  // Validate selection
  if (selectedText && selectedText.length <= 50 && selectedText.split(/\s+/).length <= 3) {
    try {
      const range = selection.getRangeAt(0);
      const rect = range.getBoundingClientRect();

      // Only show button if selection is visible
      if (rect.width > 0 && rect.height > 0) {
        createLookupButton(selectedText, rect);
      }
    } catch (e) {
      console.error('VocabDict: Error handling selection', e);
    }
  }
}
function createLookupButton(selectedText, rect) {
  // Create lookup button
  const button = document.createElement('button');
  button.className = 'vocabdict-lookup-button';
  button.textContent = '🔍';
  button.setAttribute('aria-label', `Look up "${selectedText}"`);

  // Position button near selection
  const buttonSize = 44; // minimum touch target size
  const padding = 8;

  // Calculate position - try to place below selection, but adjust if near screen edge
  let top = rect.bottom + padding;
  let left = rect.left + rect.width / 2 - buttonSize / 2;

  // Adjust if button would be off-screen
  if (top + buttonSize > window.innerHeight - padding) {
    top = rect.top - buttonSize - padding; // Place above instead
  }
  if (left < padding) {
    left = padding;
  }
  if (left + buttonSize > window.innerWidth - padding) {
    left = window.innerWidth - buttonSize - padding;
  }

  // Account for scroll position
  top += window.scrollY;
  left += window.scrollX;
  button.style.top = `${top}px`;
  button.style.left = `${left}px`;

  // Add click handler
  button.addEventListener('click', async e => {
    e.preventDefault();
    e.stopPropagation();

    // Remove button
    button.remove();
    lookupButton = null;

    // Get user's text selection mode preference
    try {
      const settingsResponse = await browser.runtime.sendMessage({
        action: 'getSettings'
      });
      const textSelectionMode = settingsResponse.success && settingsResponse.data ? settingsResponse.data.textSelectionMode || 'inline' : 'inline';
      if (textSelectionMode === 'popup') {
        // Open popup with the selected word
        await browser.runtime.sendMessage({
          action: 'openPopupWithWord',
          word: selectedText
        });
      } else {
        // Default inline behavior - show overlay
        await showWordLookupOverlay(selectedText, rect);
      }
    } catch (error) {
      console.error('VocabDict: Error getting settings, falling back to inline mode', error);
      // Fallback to inline mode if settings can't be retrieved
      await showWordLookupOverlay(selectedText, rect);
    }
  });

  // Add button to page
  document.body.appendChild(button);
  lookupButton = button;
}
async function showWordLookupOverlay(word, rect) {
  // Create overlay container
  const overlay = document.createElement('div');
  overlay.className = 'vocabdict-overlay loading';

  // Position overlay
  let top = rect.top - 200; // Try to place above selection
  let left = rect.left + rect.width / 2 - 140; // Center horizontally

  // Adjust if overlay would be off-screen
  if (top < 20) {
    top = rect.bottom + 20; // Place below instead
  }
  if (left < 20) {
    left = 20;
  }
  if (left + 280 > window.innerWidth - 20) {
    left = window.innerWidth - 300;
  }

  // Account for scroll position
  top += window.scrollY;
  left += window.scrollX;
  overlay.style.top = `${top}px`;
  overlay.style.left = `${left}px`;

  // Show loading state
  overlay.innerHTML = `
    <div class="vocabdict-overlay-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">Looking up "${word}"...</div>
    </div>
  `;
  document.body.appendChild(overlay);
  try {
    // Look up word using background script
    const response = await browser.runtime.sendMessage({
      action: 'lookupWord',
      word
    });
    if (response.success) {
      if (response.data) {
        // Show word definition
        displayWordDefinition(overlay, response.data);
      } else if (response.suggestions && response.suggestions.length > 0) {
        // Show suggestions for misspelled word
        displaySuggestions(overlay, word, response.suggestions);
      } else {
        // No results found
        displayError(overlay, `No definition found for "${word}"`);
      }
    } else {
      displayError(overlay, response.error || 'Failed to look up word');
    }
  } catch (error) {
    console.error('VocabDict: Error looking up word', error);
    displayError(overlay, 'Failed to look up word');
  }

  // Set up overlay event handlers
  setupOverlayEventHandlers(overlay);
}
function displayWordDefinition(overlay, wordData) {
  overlay.className = 'vocabdict-overlay';
  const definitions = Array.isArray(wordData.definitions) ? wordData.definitions : [{
    partOfSpeech: '',
    meaning: wordData.definition
  }];
  const definitionsHTML = definitions.map(def => `
    <div class="definition-item">
      ${def.partOfSpeech ? `<div class="part-of-speech">${def.partOfSpeech}</div>` : ''}
      <div class="definition-text">${def.meaning || def.definition}</div>
    </div>
  `).join('');
  overlay.innerHTML = `
    <div class="vocabdict-overlay-content">
      <div class="word-title">${wordData.word}</div>
      ${wordData.pronunciation ? `<div class="word-pronunciation">${wordData.pronunciation}</div>` : ''}
      <div class="word-definitions">
        ${definitionsHTML}
      </div>
    </div>
    <div class="overlay-actions">
      <button class="add-to-list-button">Add to List</button>
      <button class="close-button">×</button>
    </div>
  `;

  // Set up add to list functionality
  const addButton = overlay.querySelector('.add-to-list-button');
  addButton.addEventListener('click', async () => {
    await addWordToList(wordData.word);
  });
}
function displaySuggestions(overlay, originalWord, suggestions) {
  overlay.className = 'vocabdict-overlay';
  const suggestionsHTML = suggestions.map(suggestion => `
    <span class="suggestion-item" data-word="${suggestion}">${suggestion}</span>
  `).join('');
  overlay.innerHTML = `
    <div class="vocabdict-overlay-content">
      <div class="error-message">No definition found for "${originalWord}"</div>
      <div class="suggestions">
        <div class="suggestions-title">Did you mean?</div>
        ${suggestionsHTML}
      </div>
    </div>
    <div class="overlay-actions">
      <button class="close-button">Close</button>
    </div>
  `;

  // Handle suggestion clicks
  overlay.querySelectorAll('.suggestion-item').forEach(item => {
    item.addEventListener('click', async () => {
      const suggestedWord = item.getAttribute('data-word');
      overlay.remove();

      // Look up the suggested word
      const selection = window.getSelection();
      const range = selection.getRangeAt(0);
      const rect = range.getBoundingClientRect();
      await showWordLookupOverlay(suggestedWord, rect);
    });
  });
}
function displayError(overlay, errorMessage) {
  overlay.className = 'vocabdict-overlay';
  overlay.innerHTML = `
    <div class="vocabdict-overlay-content">
      <div class="error-message">${errorMessage}</div>
    </div>
    <div class="overlay-actions">
      <button class="close-button">Close</button>
    </div>
  `;
}
async function addWordToList(word) {
  try {
    // Get available lists
    const listsResponse = await browser.runtime.sendMessage({
      action: 'getLists'
    });
    if (listsResponse.success && listsResponse.data.length > 0) {
      // Use the first available list (default list)
      const listId = listsResponse.data[0].id;
      const addResponse = await browser.runtime.sendMessage({
        action: 'addToList',
        word,
        listId,
        metadata: {
          difficulty: 'medium',
          context: 'Added from webpage'
        }
      });
      if (addResponse.success) {
        // Show success feedback
        showNotification(`Added "${word}" to vocabulary list`);
      } else {
        showNotification(`Failed to add "${word}": ${addResponse.error}`);
      }
    } else {
      showNotification('No vocabulary lists available');
    }
  } catch (error) {
    console.error('VocabDict: Error adding word to list', error);
    showNotification('Failed to add word to list');
  }
}
function showNotification(message) {
  // Simple notification - could be enhanced
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: #34C759;
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    z-index: 2147483647;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  `;
  notification.textContent = message;
  document.body.appendChild(notification);
  setTimeout(() => {
    notification.remove();
  }, 3000);
}
function setupOverlayEventHandlers(overlay) {
  // Close button handler
  const closeButton = overlay.querySelector('.close-button');
  if (closeButton) {
    closeButton.addEventListener('click', () => {
      closeOverlay(overlay);
    });
  }

  // Click outside to close
  const handleClickOutside = e => {
    if (!overlay.contains(e.target)) {
      closeOverlay(overlay);
      document.removeEventListener('click', handleClickOutside);
    }
  };

  // Add listener immediately since button click already has stopPropagation()
  document.addEventListener('click', handleClickOutside);

  // Escape key to close
  const handleEscape = e => {
    if (e.key === 'Escape') {
      closeOverlay(overlay);
      document.removeEventListener('keydown', handleEscape);
    }
  };
  document.addEventListener('keydown', handleEscape);
}
function closeOverlay(overlay) {
  overlay.classList.add('closing');
  setTimeout(() => {
    overlay.remove();

    // Clear text selection
    const selection = window.getSelection();
    selection.removeAllRanges();
  }, 150); // Match CSS animation duration
}

// Clean up on page unload
window.addEventListener('pagehide', () => {
  if (lookupButton) {
    lookupButton.remove();
  }
});
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQixDQUFDLE9BQU8sRUFBRStGLGtCQUFrQixDQUFDOztFQUV0RDtFQUNBLE1BQU1JLFlBQVksR0FBSWhGLENBQUMsSUFBSztJQUMxQixJQUFJQSxDQUFDLENBQUNpRixHQUFHLEtBQUssUUFBUSxFQUFFO01BQ3RCTixZQUFZLENBQUM1QyxPQUFPLENBQUM7TUFDckJuRCxRQUFRLENBQUNtRyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUVDLFlBQVksQ0FBQztJQUN2RDtFQUNGLENBQUM7RUFFRHBHLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsU0FBUyxFQUFFbUcsWUFBWSxDQUFDO0FBQ3BEO0FBRUEsU0FBU0wsWUFBWUEsQ0FBQzVDLE9BQU8sRUFBRTtFQUM3QkEsT0FBTyxDQUFDbUQsU0FBUyxDQUFDQyxHQUFHLENBQUMsU0FBUyxDQUFDO0VBRWhDcEcsVUFBVSxDQUFDLE1BQU07SUFDZmdELE9BQU8sQ0FBQ3pDLE1BQU0sQ0FBQyxDQUFDOztJQUVoQjtJQUNBLE1BQU1MLFNBQVMsR0FBR1AsTUFBTSxDQUFDUSxZQUFZLENBQUMsQ0FBQztJQUN2Q0QsU0FBUyxDQUFDbUcsZUFBZSxDQUFDLENBQUM7RUFDN0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDWDs7QUFFQTtBQUNBMUcsTUFBTSxDQUFDRyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsTUFBTTtFQUN4QyxJQUFJTCxZQUFZLEVBQUU7SUFDaEJBLFlBQVksQ0FBQ2MsTUFBTSxDQUFDLENBQUM7RUFDdkI7QUFDRixDQUFDLENBQUMsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvY2FiZGljdC8uL3NyYy9jb250ZW50L2NvbnRlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29udGVudCBzY3JpcHQgZm9yIFZvY2FiRGljdCBTYWZhcmkgRXh0ZW5zaW9uXG5cbmNvbnNvbGUubG9nKCdWb2NhYkRpY3QgY29udGVudCBzY3JpcHQgbG9hZGVkJyk7XG5cbi8vIGlPUyB0ZXh0IHNlbGVjdGlvbiBoYW5kbGVyXG5sZXQgbG9va3VwQnV0dG9uID0gbnVsbDtcbmxldCBzZWxlY3Rpb25UaW1lb3V0ID0gbnVsbDtcblxuLy8gVHJhY2sgaWYgZXZlbnQgbGlzdGVuZXIgaXMgYWxyZWFkeSBhZGRlZCB0byBwcmV2ZW50IGR1cGxpY2F0ZXNcbmlmICghd2luZG93Ll9fdm9jYWJEaWN0TGlzdGVuZXJBZGRlZCkge1xuICB3aW5kb3cuX192b2NhYkRpY3RMaXN0ZW5lckFkZGVkID0gdHJ1ZTtcblxuICAvLyBEZWJvdW5jZWQgc2VsZWN0aW9uIGhhbmRsZXJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dChzZWxlY3Rpb25UaW1lb3V0KTtcblxuICAgIHNlbGVjdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGhhbmRsZVNlbGVjdGlvbigpO1xuICAgIH0sIDMwMCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb24oKSB7XG4gIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgY29uc3Qgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCkudHJpbSgpO1xuXG4gIC8vIENsZWFuIHVwIGV4aXN0aW5nIGJ1dHRvblxuICBpZiAobG9va3VwQnV0dG9uKSB7XG4gICAgbG9va3VwQnV0dG9uLnJlbW92ZSgpO1xuICAgIGxvb2t1cEJ1dHRvbiA9IG51bGw7XG4gIH1cblxuICAvLyBWYWxpZGF0ZSBzZWxlY3Rpb25cbiAgaWYgKHNlbGVjdGVkVGV4dCAmJlxuICAgICAgc2VsZWN0ZWRUZXh0Lmxlbmd0aCA8PSA1MCAmJlxuICAgICAgc2VsZWN0ZWRUZXh0LnNwbGl0KC9cXHMrLykubGVuZ3RoIDw9IDMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgIGNvbnN0IHJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgLy8gT25seSBzaG93IGJ1dHRvbiBpZiBzZWxlY3Rpb24gaXMgdmlzaWJsZVxuICAgICAgaWYgKHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMCkge1xuICAgICAgICBjcmVhdGVMb29rdXBCdXR0b24oc2VsZWN0ZWRUZXh0LCByZWN0KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdWb2NhYkRpY3Q6IEVycm9yIGhhbmRsaW5nIHNlbGVjdGlvbicsIGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVMb29rdXBCdXR0b24oc2VsZWN0ZWRUZXh0LCByZWN0KSB7XG4gIC8vIENyZWF0ZSBsb29rdXAgYnV0dG9uXG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBidXR0b24uY2xhc3NOYW1lID0gJ3ZvY2FiZGljdC1sb29rdXAtYnV0dG9uJztcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gJ/CflI0nO1xuICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYExvb2sgdXAgXCIke3NlbGVjdGVkVGV4dH1cImApO1xuXG4gIC8vIFBvc2l0aW9uIGJ1dHRvbiBuZWFyIHNlbGVjdGlvblxuICBjb25zdCBidXR0b25TaXplID0gNDQ7IC8vIG1pbmltdW0gdG91Y2ggdGFyZ2V0IHNpemVcbiAgY29uc3QgcGFkZGluZyA9IDg7XG5cbiAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIC0gdHJ5IHRvIHBsYWNlIGJlbG93IHNlbGVjdGlvbiwgYnV0IGFkanVzdCBpZiBuZWFyIHNjcmVlbiBlZGdlXG4gIGxldCB0b3AgPSByZWN0LmJvdHRvbSArIHBhZGRpbmc7XG4gIGxldCBsZWZ0ID0gcmVjdC5sZWZ0ICsgKHJlY3Qud2lkdGggLyAyKSAtIChidXR0b25TaXplIC8gMik7XG5cbiAgLy8gQWRqdXN0IGlmIGJ1dHRvbiB3b3VsZCBiZSBvZmYtc2NyZWVuXG4gIGlmICh0b3AgKyBidXR0b25TaXplID4gd2luZG93LmlubmVySGVpZ2h0IC0gcGFkZGluZykge1xuICAgIHRvcCA9IHJlY3QudG9wIC0gYnV0dG9uU2l6ZSAtIHBhZGRpbmc7IC8vIFBsYWNlIGFib3ZlIGluc3RlYWRcbiAgfVxuICBpZiAobGVmdCA8IHBhZGRpbmcpIHtcbiAgICBsZWZ0ID0gcGFkZGluZztcbiAgfVxuICBpZiAobGVmdCArIGJ1dHRvblNpemUgPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhZGRpbmcpIHtcbiAgICBsZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLSBidXR0b25TaXplIC0gcGFkZGluZztcbiAgfVxuXG4gIC8vIEFjY291bnQgZm9yIHNjcm9sbCBwb3NpdGlvblxuICB0b3AgKz0gd2luZG93LnNjcm9sbFk7XG4gIGxlZnQgKz0gd2luZG93LnNjcm9sbFg7XG5cbiAgYnV0dG9uLnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG4gIGJ1dHRvbi5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG5cbiAgLy8gQWRkIGNsaWNrIGhhbmRsZXJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIC8vIFJlbW92ZSBidXR0b25cbiAgICBidXR0b24ucmVtb3ZlKCk7XG4gICAgbG9va3VwQnV0dG9uID0gbnVsbDtcblxuICAgIC8vIEdldCB1c2VyJ3MgdGV4dCBzZWxlY3Rpb24gbW9kZSBwcmVmZXJlbmNlXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNldHRpbmdzUmVzcG9uc2UgPSBhd2FpdCBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBhY3Rpb246ICdnZXRTZXR0aW5ncydcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0ZXh0U2VsZWN0aW9uTW9kZSA9IHNldHRpbmdzUmVzcG9uc2Uuc3VjY2VzcyAmJiBzZXR0aW5nc1Jlc3BvbnNlLmRhdGFcbiAgICAgICAgPyBzZXR0aW5nc1Jlc3BvbnNlLmRhdGEudGV4dFNlbGVjdGlvbk1vZGUgfHwgJ2lubGluZSdcbiAgICAgICAgOiAnaW5saW5lJztcblxuICAgICAgaWYgKHRleHRTZWxlY3Rpb25Nb2RlID09PSAncG9wdXAnKSB7XG4gICAgICAgIC8vIE9wZW4gcG9wdXAgd2l0aCB0aGUgc2VsZWN0ZWQgd29yZFxuICAgICAgICBhd2FpdCBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgIGFjdGlvbjogJ29wZW5Qb3B1cFdpdGhXb3JkJyxcbiAgICAgICAgICB3b3JkOiBzZWxlY3RlZFRleHRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZWZhdWx0IGlubGluZSBiZWhhdmlvciAtIHNob3cgb3ZlcmxheVxuICAgICAgICBhd2FpdCBzaG93V29yZExvb2t1cE92ZXJsYXkoc2VsZWN0ZWRUZXh0LCByZWN0KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVm9jYWJEaWN0OiBFcnJvciBnZXR0aW5nIHNldHRpbmdzLCBmYWxsaW5nIGJhY2sgdG8gaW5saW5lIG1vZGUnLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayB0byBpbmxpbmUgbW9kZSBpZiBzZXR0aW5ncyBjYW4ndCBiZSByZXRyaWV2ZWRcbiAgICAgIGF3YWl0IHNob3dXb3JkTG9va3VwT3ZlcmxheShzZWxlY3RlZFRleHQsIHJlY3QpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQWRkIGJ1dHRvbiB0byBwYWdlXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgbG9va3VwQnV0dG9uID0gYnV0dG9uO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzaG93V29yZExvb2t1cE92ZXJsYXkod29yZCwgcmVjdCkge1xuICAvLyBDcmVhdGUgb3ZlcmxheSBjb250YWluZXJcbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBvdmVybGF5LmNsYXNzTmFtZSA9ICd2b2NhYmRpY3Qtb3ZlcmxheSBsb2FkaW5nJztcblxuICAvLyBQb3NpdGlvbiBvdmVybGF5XG4gIGxldCB0b3AgPSByZWN0LnRvcCAtIDIwMDsgLy8gVHJ5IHRvIHBsYWNlIGFib3ZlIHNlbGVjdGlvblxuICBsZXQgbGVmdCA9IHJlY3QubGVmdCArIChyZWN0LndpZHRoIC8gMikgLSAxNDA7IC8vIENlbnRlciBob3Jpem9udGFsbHlcblxuICAvLyBBZGp1c3QgaWYgb3ZlcmxheSB3b3VsZCBiZSBvZmYtc2NyZWVuXG4gIGlmICh0b3AgPCAyMCkge1xuICAgIHRvcCA9IHJlY3QuYm90dG9tICsgMjA7IC8vIFBsYWNlIGJlbG93IGluc3RlYWRcbiAgfVxuICBpZiAobGVmdCA8IDIwKSB7XG4gICAgbGVmdCA9IDIwO1xuICB9XG4gIGlmIChsZWZ0ICsgMjgwID4gd2luZG93LmlubmVyV2lkdGggLSAyMCkge1xuICAgIGxlZnQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIDMwMDtcbiAgfVxuXG4gIC8vIEFjY291bnQgZm9yIHNjcm9sbCBwb3NpdGlvblxuICB0b3AgKz0gd2luZG93LnNjcm9sbFk7XG4gIGxlZnQgKz0gd2luZG93LnNjcm9sbFg7XG5cbiAgb3ZlcmxheS5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICBvdmVybGF5LnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcblxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGVcbiAgb3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInZvY2FiZGljdC1vdmVybGF5LWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLXRleHRcIj5Mb29raW5nIHVwIFwiJHt3b3JkfVwiLi4uPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdmVybGF5KTtcblxuICB0cnkge1xuICAgIC8vIExvb2sgdXAgd29yZCB1c2luZyBiYWNrZ3JvdW5kIHNjcmlwdFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgIGFjdGlvbjogJ2xvb2t1cFdvcmQnLFxuICAgICAgd29yZFxuICAgIH0pO1xuXG4gICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIC8vIFNob3cgd29yZCBkZWZpbml0aW9uXG4gICAgICAgIGRpc3BsYXlXb3JkRGVmaW5pdGlvbihvdmVybGF5LCByZXNwb25zZS5kYXRhKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3VnZ2VzdGlvbnMgJiYgcmVzcG9uc2Uuc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBTaG93IHN1Z2dlc3Rpb25zIGZvciBtaXNzcGVsbGVkIHdvcmRcbiAgICAgICAgZGlzcGxheVN1Z2dlc3Rpb25zKG92ZXJsYXksIHdvcmQsIHJlc3BvbnNlLnN1Z2dlc3Rpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIHJlc3VsdHMgZm91bmRcbiAgICAgICAgZGlzcGxheUVycm9yKG92ZXJsYXksIGBObyBkZWZpbml0aW9uIGZvdW5kIGZvciBcIiR7d29yZH1cImApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwbGF5RXJyb3Iob3ZlcmxheSwgcmVzcG9uc2UuZXJyb3IgfHwgJ0ZhaWxlZCB0byBsb29rIHVwIHdvcmQnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVm9jYWJEaWN0OiBFcnJvciBsb29raW5nIHVwIHdvcmQnLCBlcnJvcik7XG4gICAgZGlzcGxheUVycm9yKG92ZXJsYXksICdGYWlsZWQgdG8gbG9vayB1cCB3b3JkJyk7XG4gIH1cblxuICAvLyBTZXQgdXAgb3ZlcmxheSBldmVudCBoYW5kbGVyc1xuICBzZXR1cE92ZXJsYXlFdmVudEhhbmRsZXJzKG92ZXJsYXkpO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5V29yZERlZmluaXRpb24ob3ZlcmxheSwgd29yZERhdGEpIHtcbiAgb3ZlcmxheS5jbGFzc05hbWUgPSAndm9jYWJkaWN0LW92ZXJsYXknO1xuXG4gIGNvbnN0IGRlZmluaXRpb25zID0gQXJyYXkuaXNBcnJheSh3b3JkRGF0YS5kZWZpbml0aW9ucylcbiAgICA/IHdvcmREYXRhLmRlZmluaXRpb25zXG4gICAgOiBbeyBwYXJ0T2ZTcGVlY2g6ICcnLCBtZWFuaW5nOiB3b3JkRGF0YS5kZWZpbml0aW9uIH1dO1xuXG4gIGNvbnN0IGRlZmluaXRpb25zSFRNTCA9IGRlZmluaXRpb25zLm1hcChkZWYgPT4gYFxuICAgIDxkaXYgY2xhc3M9XCJkZWZpbml0aW9uLWl0ZW1cIj5cbiAgICAgICR7ZGVmLnBhcnRPZlNwZWVjaCA/IGA8ZGl2IGNsYXNzPVwicGFydC1vZi1zcGVlY2hcIj4ke2RlZi5wYXJ0T2ZTcGVlY2h9PC9kaXY+YCA6ICcnfVxuICAgICAgPGRpdiBjbGFzcz1cImRlZmluaXRpb24tdGV4dFwiPiR7ZGVmLm1lYW5pbmcgfHwgZGVmLmRlZmluaXRpb259PC9kaXY+XG4gICAgPC9kaXY+XG4gIGApLmpvaW4oJycpO1xuXG4gIG92ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ2b2NhYmRpY3Qtb3ZlcmxheS1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwid29yZC10aXRsZVwiPiR7d29yZERhdGEud29yZH08L2Rpdj5cbiAgICAgICR7d29yZERhdGEucHJvbnVuY2lhdGlvbiA/IGA8ZGl2IGNsYXNzPVwid29yZC1wcm9udW5jaWF0aW9uXCI+JHt3b3JkRGF0YS5wcm9udW5jaWF0aW9ufTwvZGl2PmAgOiAnJ31cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JkLWRlZmluaXRpb25zXCI+XG4gICAgICAgICR7ZGVmaW5pdGlvbnNIVE1MfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm92ZXJsYXktYWN0aW9uc1wiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImFkZC10by1saXN0LWJ1dHRvblwiPkFkZCB0byBMaXN0PC9idXR0b24+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiY2xvc2UtYnV0dG9uXCI+w5c8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICAvLyBTZXQgdXAgYWRkIHRvIGxpc3QgZnVuY3Rpb25hbGl0eVxuICBjb25zdCBhZGRCdXR0b24gPSBvdmVybGF5LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG8tbGlzdC1idXR0b24nKTtcbiAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFkZFdvcmRUb0xpc3Qod29yZERhdGEud29yZCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5U3VnZ2VzdGlvbnMob3ZlcmxheSwgb3JpZ2luYWxXb3JkLCBzdWdnZXN0aW9ucykge1xuICBvdmVybGF5LmNsYXNzTmFtZSA9ICd2b2NhYmRpY3Qtb3ZlcmxheSc7XG5cbiAgY29uc3Qgc3VnZ2VzdGlvbnNIVE1MID0gc3VnZ2VzdGlvbnMubWFwKHN1Z2dlc3Rpb24gPT4gYFxuICAgIDxzcGFuIGNsYXNzPVwic3VnZ2VzdGlvbi1pdGVtXCIgZGF0YS13b3JkPVwiJHtzdWdnZXN0aW9ufVwiPiR7c3VnZ2VzdGlvbn08L3NwYW4+XG4gIGApLmpvaW4oJycpO1xuXG4gIG92ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ2b2NhYmRpY3Qtb3ZlcmxheS1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZXJyb3ItbWVzc2FnZVwiPk5vIGRlZmluaXRpb24gZm91bmQgZm9yIFwiJHtvcmlnaW5hbFdvcmR9XCI8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzdWdnZXN0aW9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3VnZ2VzdGlvbnMtdGl0bGVcIj5EaWQgeW91IG1lYW4/PC9kaXY+XG4gICAgICAgICR7c3VnZ2VzdGlvbnNIVE1MfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm92ZXJsYXktYWN0aW9uc1wiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImNsb3NlLWJ1dHRvblwiPkNsb3NlPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgLy8gSGFuZGxlIHN1Z2dlc3Rpb24gY2xpY2tzXG4gIG92ZXJsYXkucXVlcnlTZWxlY3RvckFsbCgnLnN1Z2dlc3Rpb24taXRlbScpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN1Z2dlc3RlZFdvcmQgPSBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS13b3JkJyk7XG4gICAgICBvdmVybGF5LnJlbW92ZSgpO1xuXG4gICAgICAvLyBMb29rIHVwIHRoZSBzdWdnZXN0ZWQgd29yZFxuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgIGNvbnN0IHJlY3QgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGF3YWl0IHNob3dXb3JkTG9va3VwT3ZlcmxheShzdWdnZXN0ZWRXb3JkLCByZWN0KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlFcnJvcihvdmVybGF5LCBlcnJvck1lc3NhZ2UpIHtcbiAgb3ZlcmxheS5jbGFzc05hbWUgPSAndm9jYWJkaWN0LW92ZXJsYXknO1xuICBvdmVybGF5LmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidm9jYWJkaWN0LW92ZXJsYXktY29udGVudFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImVycm9yLW1lc3NhZ2VcIj4ke2Vycm9yTWVzc2FnZX08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheS1hY3Rpb25zXCI+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiY2xvc2UtYnV0dG9uXCI+Q2xvc2U8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWRkV29yZFRvTGlzdCh3b3JkKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGF2YWlsYWJsZSBsaXN0c1xuICAgIGNvbnN0IGxpc3RzUmVzcG9uc2UgPSBhd2FpdCBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgYWN0aW9uOiAnZ2V0TGlzdHMnXG4gICAgfSk7XG5cbiAgICBpZiAobGlzdHNSZXNwb25zZS5zdWNjZXNzICYmIGxpc3RzUmVzcG9uc2UuZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBVc2UgdGhlIGZpcnN0IGF2YWlsYWJsZSBsaXN0IChkZWZhdWx0IGxpc3QpXG4gICAgICBjb25zdCBsaXN0SWQgPSBsaXN0c1Jlc3BvbnNlLmRhdGFbMF0uaWQ7XG5cbiAgICAgIGNvbnN0IGFkZFJlc3BvbnNlID0gYXdhaXQgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgYWN0aW9uOiAnYWRkVG9MaXN0JyxcbiAgICAgICAgd29yZCxcbiAgICAgICAgbGlzdElkLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGRpZmZpY3VsdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIGNvbnRleHQ6ICdBZGRlZCBmcm9tIHdlYnBhZ2UnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoYWRkUmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgZmVlZGJhY2tcbiAgICAgICAgc2hvd05vdGlmaWNhdGlvbihgQWRkZWQgXCIke3dvcmR9XCIgdG8gdm9jYWJ1bGFyeSBsaXN0YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG93Tm90aWZpY2F0aW9uKGBGYWlsZWQgdG8gYWRkIFwiJHt3b3JkfVwiOiAke2FkZFJlc3BvbnNlLmVycm9yfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzaG93Tm90aWZpY2F0aW9uKCdObyB2b2NhYnVsYXJ5IGxpc3RzIGF2YWlsYWJsZScpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdWb2NhYkRpY3Q6IEVycm9yIGFkZGluZyB3b3JkIHRvIGxpc3QnLCBlcnJvcik7XG4gICAgc2hvd05vdGlmaWNhdGlvbignRmFpbGVkIHRvIGFkZCB3b3JkIHRvIGxpc3QnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UpIHtcbiAgLy8gU2ltcGxlIG5vdGlmaWNhdGlvbiAtIGNvdWxkIGJlIGVuaGFuY2VkXG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub3RpZmljYXRpb24uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiAyMHB4O1xuICAgIHJpZ2h0OiAyMHB4O1xuICAgIGJhY2tncm91bmQ6ICMzNEM3NTk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgei1pbmRleDogMjE0NzQ4MzY0NztcbiAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgc2Fucy1zZXJpZjtcbiAgYDtcbiAgbm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gbWVzc2FnZTtcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbik7XG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbm90aWZpY2F0aW9uLnJlbW92ZSgpO1xuICB9LCAzMDAwKTtcbn1cblxuZnVuY3Rpb24gc2V0dXBPdmVybGF5RXZlbnRIYW5kbGVycyhvdmVybGF5KSB7XG4gIC8vIENsb3NlIGJ1dHRvbiBoYW5kbGVyXG4gIGNvbnN0IGNsb3NlQnV0dG9uID0gb3ZlcmxheS5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtYnV0dG9uJyk7XG4gIGlmIChjbG9zZUJ1dHRvbikge1xuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY2xvc2VPdmVybGF5KG92ZXJsYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQ2xpY2sgb3V0c2lkZSB0byBjbG9zZVxuICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZSkgPT4ge1xuICAgIGlmICghb3ZlcmxheS5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgIGNsb3NlT3ZlcmxheShvdmVybGF5KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkIGxpc3RlbmVyIGltbWVkaWF0ZWx5IHNpbmNlIGJ1dHRvbiBjbGljayBhbHJlYWR5IGhhcyBzdG9wUHJvcGFnYXRpb24oKVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG5cbiAgLy8gRXNjYXBlIGtleSB0byBjbG9zZVxuICBjb25zdCBoYW5kbGVFc2NhcGUgPSAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGNsb3NlT3ZlcmxheShvdmVybGF5KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuICAgIH1cbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlKTtcbn1cblxuZnVuY3Rpb24gY2xvc2VPdmVybGF5KG92ZXJsYXkpIHtcbiAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdjbG9zaW5nJyk7XG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgb3ZlcmxheS5yZW1vdmUoKTtcblxuICAgIC8vIENsZWFyIHRleHQgc2VsZWN0aW9uXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgfSwgMTUwKTsgLy8gTWF0Y2ggQ1NTIGFuaW1hdGlvbiBkdXJhdGlvblxufVxuXG4vLyBDbGVhbiB1cCBvbiBwYWdlIHVubG9hZFxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VoaWRlJywgKCkgPT4ge1xuICBpZiAobG9va3VwQnV0dG9uKSB7XG4gICAgbG9va3VwQnV0dG9uLnJlbW92ZSgpO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwibG9va3VwQnV0dG9uIiwic2VsZWN0aW9uVGltZW91dCIsIndpbmRvdyIsIl9fdm9jYWJEaWN0TGlzdGVuZXJBZGRlZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJoYW5kbGVTZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJzZWxlY3RlZFRleHQiLCJ0b1N0cmluZyIsInRyaW0iLCJyZW1vdmUiLCJsZW5ndGgiLCJzcGxpdCIsInJhbmdlIiwiZ2V0UmFuZ2VBdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImNyZWF0ZUxvb2t1cEJ1dHRvbiIsImUiLCJlcnJvciIsImJ1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImJ1dHRvblNpemUiLCJwYWRkaW5nIiwidG9wIiwiYm90dG9tIiwibGVmdCIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsInNjcm9sbFkiLCJzY3JvbGxYIiwic3R5bGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInNldHRpbmdzUmVzcG9uc2UiLCJicm93c2VyIiwicnVudGltZSIsInNlbmRNZXNzYWdlIiwiYWN0aW9uIiwidGV4dFNlbGVjdGlvbk1vZGUiLCJzdWNjZXNzIiwiZGF0YSIsIndvcmQiLCJzaG93V29yZExvb2t1cE92ZXJsYXkiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvdmVybGF5IiwiaW5uZXJIVE1MIiwicmVzcG9uc2UiLCJkaXNwbGF5V29yZERlZmluaXRpb24iLCJzdWdnZXN0aW9ucyIsImRpc3BsYXlTdWdnZXN0aW9ucyIsImRpc3BsYXlFcnJvciIsInNldHVwT3ZlcmxheUV2ZW50SGFuZGxlcnMiLCJ3b3JkRGF0YSIsImRlZmluaXRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwicGFydE9mU3BlZWNoIiwibWVhbmluZyIsImRlZmluaXRpb24iLCJkZWZpbml0aW9uc0hUTUwiLCJtYXAiLCJkZWYiLCJqb2luIiwicHJvbnVuY2lhdGlvbiIsImFkZEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRXb3JkVG9MaXN0Iiwib3JpZ2luYWxXb3JkIiwic3VnZ2VzdGlvbnNIVE1MIiwic3VnZ2VzdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsInN1Z2dlc3RlZFdvcmQiLCJnZXRBdHRyaWJ1dGUiLCJlcnJvck1lc3NhZ2UiLCJsaXN0c1Jlc3BvbnNlIiwibGlzdElkIiwiaWQiLCJhZGRSZXNwb25zZSIsIm1ldGFkYXRhIiwiZGlmZmljdWx0eSIsImNvbnRleHQiLCJzaG93Tm90aWZpY2F0aW9uIiwibWVzc2FnZSIsIm5vdGlmaWNhdGlvbiIsImNzc1RleHQiLCJjbG9zZUJ1dHRvbiIsImNsb3NlT3ZlcmxheSIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZUVzY2FwZSIsImtleSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUFsbFJhbmdlcyJdLCJzb3VyY2VSb290IjoiIn0=